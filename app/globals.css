@import "tailwindcss";
@variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

@theme inline {
  --font-mono: var(--font-geist-mono);
  --color-background: var(--background);
  --color-primary: var(--primary);
  --color-secondary: var(--secondary);
  --color-accent: var(--color-rose-500);
}

/* animation for switching themes */
::view-transition-group(root) {
  animation-timing-function: var(--expo-out);
}

::view-transition-new(root) {
  mask:
    url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><defs><filter id="blur"><feGaussianBlur stdDeviation="2"/></filter></defs><circle cx="40" cy="0" r="18" fill="white" filter="url(%23blur)"/></svg>')
    top right / 0 no-repeat;
  mask-origin: content-box;
  animation: scale 1s;
  animation-fill-mode: both;
  transform-origin: top right;
}

::view-transition-old(root),
[data-theme="dark"]::view-transition-old(root) {
  animation: scale 1s;
  animation-fill-mode: both;
  transform-origin: top right;
  z-index: -1;
}

:root {
  --bar-timing: ease-in-out infinite;
  --expo-out: cubic-bezier(0.16, 1, 0.3, 1);

  /* light mode */
  --background: #f2ecdf;
  --primary: #be123c;
  --secondary: #8b7d6b;
  --accent: #be123c;
  --accent-hover: #f43f5e;
}

[data-theme="dark"] {
  --background: #030303;
  --primary: #ffffff;
  --secondary: #6e7681;
  --accent: #fb7185cc;
  --accent-hover: #f43f5ecc;
}

body {
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
}

@keyframes scale {
  to {
    mask-size: 350vmax;
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes scale-y {
  0%,
  100% {
    transform: scaleY(var(--scale-min));
  }
  50% {
    transform: scaleY(var(--scale-max));
  }
}

.fade-in {
  animation: fade-in 300ms ease-in forwards;
}

.animate-bar-1 {
  --scale-min: 0.8;
  --scale-max: 1;
  animation: scale-y 1.4s var(--bar-timing);
}

.animate-bar-2 {
  --scale-min: 0.9;
  --scale-max: 0.7;
  animation: scale-y 1.6s var(--bar-timing);
}

.animate-bar-3 {
  --scale-min: 0.85;
  --scale-max: 0.75;
  animation: scale-y 1.2s var(--bar-timing);
}

.ascii-container {
  width: clamp(150px, 70vw, 270px);
  margin-left: 1.5rem;
  aspect-ratio: 1 / 1;
}

@media (min-width: 768px) {
  .ascii-container {
    width: clamp(360px, 45vw, 490px);
    margin-left: 0;
    margin-inline: auto;
    aspect-ratio: 1 / 1;
  }
}

@media (min-width: 1024px) {
  .ascii-container {
    width: clamp(270px, 18vw, 310px);
    aspect-ratio: 1 / 1;
  }
}
